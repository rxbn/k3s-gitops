---
apiVersion: v1
kind: ConfigMap
metadata:
  name: syncflaer
  namespace: syncflaer
data:
  config.yml: |2
    ---
    notifications:
      slack:
        webhookURL: env:SLACK_WEBHOOK_URL

    kubernetes:
      enabled: true

    additionalRecords:
      - name: vpn.${BASE_DOMAIN}
        ttl: 120
        proxied: false
      - name: teslamate.srv.${BASE_DOMAIN}
        type: A
        content: ${TESLAMATE_SERVER_IP}
        proxied: false
      - name: teslamate.${BASE_DOMAIN}
        content: teslamate.srv.${BASE_DOMAIN}
      - name: teslamate-grafana.${BASE_DOMAIN}
        content: teslamate.srv.${BASE_DOMAIN}

    cloudflare:
      apiToken: env:CF_API_TOKEN
      zoneNames:
        - ${BASE_DOMAIN}
      deleteGrace: 5
